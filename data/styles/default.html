<html>
<head>
	<script type="text/javascript">
		function append_message(msg)
		{
			var obj = document.getElementById("messages");
			obj.innerHTML = obj.innerHTML + msg;

			scroll_to_bottom();
		}

		function scroll_to_bottom()
		{
			var obj = document.getElementById("messages");
			window.scrollTo(0, obj.scrollHeight);		
		}
		
		function delete_message(id)
		{
			var obj = document.getElementById("messages");
			var msg = document.getElementById(id);
			
			obj.removeChild(msg);
		}
		
		function set_stylesheet(stylesheet)
		{
			var code = "<style id='msg_style' type='text/css'>";
			if(stylesheet.length) code += "@import url(\"" + stylesheet +"\");";
			code += "</style>"
			
			var range = document.createRange();
			var head = document.getElementsByTagName("head").item(0);
			range.selectNode(head);
			
			var documentFragment = range.createContextualFragment(code);
			head.removeChild(document.getElementById("msg_style"));
			head.appendChild( documentFragment );			
		}
	</script>
	
	<style id="msg_style" type="text/css">
	</style>
</head>
<body>
	<div id="messages">
	
	</div>
</body>
</html>
